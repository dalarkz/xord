<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kali Linux Desktop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            overflow: hidden;
            height: 100vh;
        }

        .desktop {
            height: calc(100vh - 40px);
            position: relative;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080"><rect fill="%231a1a2e" width="1920" height="1080"/><path d="M960 200 L1100 500 L820 500 Z" fill="%23367bf0" opacity="0.1"/><path d="M400 600 L600 900 L200 900 Z" fill="%23367bf0" opacity="0.08"/></svg>');
            background-size: cover;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: #1a1a2e;
            border-top: 1px solid #367bf0;
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 1000;
        }

        .app-menu {
            background: #367bf0;
            color: white;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .app-menu:hover {
            background: #2868d8;
            transform: translateY(-2px);
        }

        .taskbar-apps {
            display: flex;
            gap: 5px;
            margin-left: 15px;
            flex: 1;
        }

        .taskbar-app {
            background: rgba(54, 123, 240, 0.2);
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            color: #fff;
            font-size: 14px;
        }

        .taskbar-app:hover {
            background: rgba(54, 123, 240, 0.4);
        }

        .taskbar-app.active {
            background: #367bf0;
        }

        .system-tray {
            display: flex;
            gap: 15px;
            color: #fff;
            font-size: 13px;
            align-items: center;
        }

        .desktop-icon {
            width: 80px;
            padding: 10px;
            text-align: center;
            color: white;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
            position: absolute;
            user-select: none;
        }

        .desktop-icon:hover {
            background: rgba(54, 123, 240, 0.3);
            transform: scale(1.05);
        }

        .desktop-icon.selected {
            background: rgba(54, 123, 240, 0.5);
        }

        .desktop-icon .icon {
            font-size: 48px;
            margin-bottom: 5px;
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .desktop-icon .label {
            font-size: 12px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        .window {
            position: absolute;
            background: #2a2a3e;
            border: 1px solid #367bf0;
            border-radius: 8px;
            min-width: 400px;
            min-height: 300px;
            display: none;
            flex-direction: column;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            animation: windowOpen 0.3s ease-out;
        }

        @keyframes windowOpen {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .window.active {
            display: flex;
            z-index: 100;
        }

        .window.maximized {
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
            height: calc(100vh - 40px) !important;
            border-radius: 0;
        }

        .window-header {
            background: #1a1a2e;
            padding: 10px;
            border-bottom: 1px solid #367bf0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            border-radius: 8px 8px 0 0;
        }

        .window.maximized .window-header {
            border-radius: 0;
        }

        .window-title {
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-control {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }

        .minimize { background: #f4c430; }
        .maximize { background: #50c878; }
        .close { background: #ff6b6b; }

        .window-control:hover {
            opacity: 0.8;
            transform: scale(1.1);
        }

        .window-content {
            flex: 1;
            padding: 15px;
            color: #fff;
            overflow: auto;
            background: #1e1e2e;
        }

        .terminal {
            background: #0a0a0a;
            font-family: 'Courier New', monospace;
            padding: 15px;
            height: 100%;
            overflow-y: auto;
        }

        .terminal-line {
            color: #0f0;
            margin: 3px 0;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .terminal-prompt {
            color: #367bf0;
        }

        .terminal-input {
            background: none;
            border: none;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            outline: none;
            width: 80%;
        }

        .menu-panel {
            position: fixed;
            bottom: 45px;
            left: 10px;
            width: 350px;
            background: #1a1a2e;
            border: 1px solid #367bf0;
            border-radius: 8px;
            display: none;
            padding: 15px;
            z-index: 999;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            max-height: 500px;
            overflow-y: auto;
        }

        .menu-panel.active {
            display: block;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .menu-category {
            color: #367bf0;
            font-weight: bold;
            margin: 10px 0 5px 0;
            font-size: 12px;
            text-transform: uppercase;
        }

        .menu-item {
            padding: 10px;
            color: white;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-item:hover {
            background: #367bf0;
            transform: translateX(5px);
        }

        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            padding: 10px;
        }

        .file-item {
            text-align: center;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .file-item:hover {
            background: rgba(54, 123, 240, 0.2);
            transform: scale(1.05);
        }

        .file-icon {
            font-size: 48px;
            margin-bottom: 5px;
        }

        .text-editor {
            background: #1e1e2e;
            color: #fff;
            font-family: 'Courier New', monospace;
            padding: 15px;
            height: 100%;
            border: none;
            outline: none;
            resize: none;
            font-size: 14px;
        }

        .browser-bar {
            background: #1a1a2e;
            padding: 10px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .browser-input {
            flex: 1;
            background: #2a2a3e;
            border: 1px solid #367bf0;
            color: #fff;
            padding: 8px 12px;
            border-radius: 4px;
            outline: none;
        }

        .browser-content {
            background: #fff;
            color: #000;
            padding: 20px;
            height: 100%;
            overflow-y: auto;
        }

        .system-monitor {
            padding: 15px;
        }

        .monitor-section {
            margin-bottom: 20px;
        }

        .monitor-label {
            color: #367bf0;
            margin-bottom: 5px;
        }

        .progress-bar {
            background: #2a2a3e;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #367bf0, #50c878);
            height: 100%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .calc-display {
            background: #0a0a0a;
            color: #0f0;
            padding: 20px;
            text-align: right;
            font-size: 32px;
            font-family: monospace;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .calc-btn {
            background: #367bf0;
            color: white;
            padding: 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
        }

        .calc-btn:hover {
            background: #2868d8;
            transform: scale(1.05);
        }

        .notification {
            position: fixed;
            top: 50px;
            right: 20px;
            background: #1a1a2e;
            border: 1px solid #367bf0;
            border-radius: 8px;
            padding: 15px;
            min-width: 300px;
            z-index: 2000;
            animation: slideInRight 0.3s;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }

        @keyframes slideInRight {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notif-title {
            color: #367bf0;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .notif-text {
            color: #fff;
            font-size: 14px;
        }

        .context-menu {
            position: fixed;
            background: #1a1a2e;
            border: 1px solid #367bf0;
            border-radius: 4px;
            padding: 5px;
            display: none;
            z-index: 3000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }

        .context-menu.active {
            display: block;
        }

        .context-item {
            padding: 8px 15px;
            color: white;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.2s;
        }

        .context-item:hover {
            background: #367bf0;
        }
    </style>
</head>
<body>
    <div class="desktop" id="desktop">
        <!-- Ic√¥nes du bureau -->
        <div class="desktop-icon" style="top: 20px; left: 20px;" data-app="terminal">
            <div class="icon">üíª</div>
            <div class="label">Terminal</div>
        </div>
        <div class="desktop-icon" style="top: 140px; left: 20px;" data-app="files">
            <div class="icon">üìÅ</div>
            <div class="label">Fichiers</div>
        </div>
        <div class="desktop-icon" style="top: 260px; left: 20px;" data-app="tools">
            <div class="icon">üõ†Ô∏è</div>
            <div class="label">Outils Kali</div>
        </div>
        <div class="desktop-icon" style="top: 380px; left: 20px;" data-app="browser">
            <div class="icon">üåê</div>
            <div class="label">Navigateur</div>
        </div>
        <div class="desktop-icon" style="top: 20px; right: 20px;" data-app="editor">
            <div class="icon">üìù</div>
            <div class="label">√âditeur</div>
        </div>
        <div class="desktop-icon" style="top: 140px; right: 20px;" data-app="monitor">
            <div class="icon">üìä</div>
            <div class="label">Moniteur</div>
        </div>
        <div class="desktop-icon" style="top: 260px; right: 20px;" data-app="calc">
            <div class="icon">üî¢</div>
            <div class="label">Calculatrice</div>
        </div>
    </div>

    <!-- Fen√™tre Terminal -->
    <div class="window" id="terminal-window" style="left: 100px; top: 100px; width: 700px; height: 450px;">
        <div class="window-header">
            <div class="window-title">üêâ Terminal - Kali Linux</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="terminal-window"></div>
                <div class="window-control maximize" data-window="terminal-window"></div>
                <div class="window-control close" data-window="terminal-window"></div>
            </div>
        </div>
        <div class="window-content terminal" id="terminal">
            <div class="terminal-line">Kali Linux 2024.1 LTS</div>
            <div class="terminal-line">Bienvenue dans le simulateur Kali Linux</div>
            <div class="terminal-line">Tapez 'help' pour voir les commandes disponibles</div>
            <div class="terminal-line"><span class="terminal-prompt">kali@kali:~$</span> <input type="text" class="terminal-input" id="terminal-input" autofocus></div>
        </div>
    </div>

    <!-- Fen√™tre Fichiers -->
    <div class="window" id="files-window" style="left: 200px; top: 150px; width: 600px; height: 400px;">
        <div class="window-header">
            <div class="window-title">üìÅ Gestionnaire de fichiers</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="files-window"></div>
                <div class="window-control maximize" data-window="files-window"></div>
                <div class="window-control close" data-window="files-window"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="files-grid">
                <div class="file-item" data-app="editor">
                    <div class="file-icon">üìÇ</div>
                    <div>Documents</div>
                </div>
                <div class="file-item">
                    <div class="file-icon">üìÇ</div>
                    <div>Images</div>
                </div>
                <div class="file-item">
                    <div class="file-icon">üìÇ</div>
                    <div>Scripts</div>
                </div>
                <div class="file-item">
                    <div class="file-icon">üìÇ</div>
                    <div>T√©l√©chargements</div>
                </div>
                <div class="file-item" data-app="editor">
                    <div class="file-icon">üìÑ</div>
                    <div>readme.txt</div>
                </div>
                <div class="file-item">
                    <div class="file-icon">üéµ</div>
                    <div>music.mp3</div>
                </div>
                <div class="file-item">
                    <div class="file-icon">üé¨</div>
                    <div>video.mp4</div>
                </div>
                <div class="file-item">
                    <div class="file-icon">üñºÔ∏è</div>
                    <div>image.png</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fen√™tre Outils -->
    <div class="window" id="tools-window" style="left: 300px; top: 200px; width: 500px; height: 400px;">
        <div class="window-header">
            <div class="window-title">üõ†Ô∏è Outils Kali Linux</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="tools-window"></div>
                <div class="window-control maximize" data-window="tools-window"></div>
                <div class="window-control close" data-window="tools-window"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="menu-item" onclick="runTool('nmap')">üîç Nmap - Scanner r√©seau</div>
            <div class="menu-item" onclick="runTool('metasploit')">üîì Metasploit - Framework d'exploitation</div>
            <div class="menu-item" onclick="runTool('burpsuite')">üåê Burp Suite - Proxy d'interception</div>
            <div class="menu-item" onclick="runTool('wireshark')">üì° Wireshark - Analyseur de paquets</div>
            <div class="menu-item" onclick="runTool('john')">üîê John the Ripper - Cracker de mots de passe</div>
            <div class="menu-item" onclick="runTool('aircrack')">ü¶à Aircrack-ng - Suite WiFi</div>
            <div class="menu-item" onclick="runTool('sqlmap')">üíâ SQLMap - Injection SQL</div>
            <div class="menu-item" onclick="runTool('hydra')">üíß Hydra - Brute force</div>
        </div>
    </div>

    <!-- Fen√™tre Navigateur -->
    <div class="window" id="browser-window" style="left: 150px; top: 100px; width: 800px; height: 600px;">
        <div class="window-header">
            <div class="window-title">üåê Navigateur Web</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="browser-window"></div>
                <div class="window-control maximize" data-window="browser-window"></div>
                <div class="window-control close" data-window="browser-window"></div>
            </div>
        </div>
        <div class="window-content" style="padding: 0;">
            <div class="browser-bar">
                <button class="calc-btn" style="padding: 5px 10px; font-size: 14px;" onclick="history.back()">‚óÄ</button>
                <button class="calc-btn" style="padding: 5px 10px; font-size: 14px;" onclick="history.forward()">‚ñ∂</button>
                <input type="text" class="browser-input" id="browser-url" value="https://www.kali.org" placeholder="Entrez une URL...">
                <button class="calc-btn" style="padding: 5px 10px; font-size: 14px;" onclick="loadUrl()">Go</button>
            </div>
            <div class="browser-content">
                <h1>üêâ Bienvenue sur Kali Linux</h1>
                <p>Kali Linux est une distribution Debian sp√©cialement con√ßue pour les tests de s√©curit√© et l'analyse forensique.</p>
                <h2>Outils populaires :</h2>
                <ul>
                    <li>Nmap - Scanner de ports</li>
                    <li>Metasploit - Framework de p√©n√©tration</li>
                    <li>Wireshark - Analyseur de protocoles</li>
                    <li>Burp Suite - Test d'applications web</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Fen√™tre √âditeur de texte -->
    <div class="window" id="editor-window" style="left: 250px; top: 120px; width: 600px; height: 500px;">
        <div class="window-header">
            <div class="window-title">üìù √âditeur de texte</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="editor-window"></div>
                <div class="window-control maximize" data-window="editor-window"></div>
                <div class="window-control close" data-window="editor-window"></div>
            </div>
        </div>
        <div class="window-content" style="padding: 0;">
            <textarea class="text-editor" placeholder="Commencez √† √©crire...">#!/bin/bash
# Script Kali Linux
echo "Bienvenue sur Kali Linux"
echo "Syst√®me: $(uname -a)"
echo "Utilisateur: $(whoami)"</textarea>
        </div>
    </div>

    <!-- Fen√™tre Moniteur Syst√®me -->
    <div class="window" id="monitor-window" style="left: 350px; top: 80px; width: 500px; height: 450px;">
        <div class="window-header">
            <div class="window-title">üìä Moniteur Syst√®me</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="monitor-window"></div>
                <div class="window-control maximize" data-window="monitor-window"></div>
                <div class="window-control close" data-window="monitor-window"></div>
            </div>
        </div>
        <div class="window-content system-monitor">
            <div class="monitor-section">
                <div class="monitor-label">CPU</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="cpu-usage" style="width: 45%">45%</div>
                </div>
            </div>
            <div class="monitor-section">
                <div class="monitor-label">RAM</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="ram-usage" style="width: 62%">62%</div>
                </div>
            </div>
            <div class="monitor-section">
                <div class="monitor-label">Disque</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="disk-usage" style="width: 38%">38%</div>
                </div>
            </div>
            <div class="monitor-section">
                <div class="monitor-label">R√©seau</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="network-usage" style="width: 28%">28%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fen√™tre Calculatrice -->
    <div class="window" id="calc-window" style="left: 400px; top: 150px; width: 350px; height: 500px;">
        <div class="window-header">
            <div class="window-title">üî¢ Calculatrice</div>
            <div class="window-controls">
                <div class="window-control minimize" data-window="calc-window"></div>
                <div class="window-control maximize" data-window="calc-window"></div>
                <div class="window-control close" data-window="calc-window"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="calc-display" id="calc-display">0</div>
            <div class="calc-buttons">
                <button class="calc-btn" onclick="calcInput('7')">7</button>
                <button class="calc-btn" onclick="calcInput('8')">8</button>
                <button class="calc-btn" onclick="calcInput('9')">9</button>
                <button class="calc-btn" onclick="calcInput('/')">/</button>
                <button class="calc-btn" onclick="calcInput('4')">4</button>
                <button class="calc-btn" onclick="calcInput('5')">5</button>
                <button class="calc-btn" onclick="calcInput('6')">6</button>
                <button class="calc-btn" onclick="calcInput('*')">*</button>
                <button class="calc-btn" onclick="calcInput('1')">1</button>
                <button class="calc-btn" onclick="calcInput('2')">2</button>
                <button class="calc-btn" onclick="calcInput('3')">3</button>
                <button class="calc-btn" onclick="calcInput('-')">-</button>
                <button class="calc-btn" onclick="calcInput('0')">0</button>
                <button class="calc-btn" onclick="calcInput('.')">.</button>
                <button class="calc-btn" onclick="calcEqual()">=</button>
                <button class="calc-btn" onclick="calcInput('+')">+</button>
                <button class="calc-btn" onclick="calcClear()" style="grid-column: span 4; background: #ff6b6b;">C</button>
            </div>
        </div>
    </div>

    <!-- Menu Application -->
    <div class="menu-panel" id="app-menu">
        <div class="menu-category">‚ö° Favoris</div>
        <div class="menu-item" data-app="terminal">üíª Terminal</div>
        <div class="menu-item" data-app="browser">üåê Navigateur</div>
        <div class="menu-item" data-app="files">üìÅ Fichiers</div>
        
        <div class="menu-category">üõ†Ô∏è Outils Kali</div>
        <div class="menu-item" data-app="tools">üîß Suite d'outils</div>
        <div class="menu-item" data-app="terminal">üîç Scanner r√©seau</div>
        
        <div class="menu-category">üì± Applications</div>
        <div class="menu-item" data-app="editor">üìù √âditeur de texte</div>
        <div class="menu-item" data-app="calc">üî¢ Calculatrice</div>
        <div class="menu-item" data-app="monitor">üìä Moniteur syst√®me</div>
        
        <div class="menu-category">‚öôÔ∏è Syst√®me</div>
        <div class="menu-item" onclick="showNotification('Param√®tres', 'Fonctionnalit√© √† venir...')">‚öôÔ∏è Param√®tres</div>
        <div class="menu-item" onclick="showNotification('D√©connexion', '√Ä bient√¥t!')">üö™ D√©connexion</div>
        <div class="menu-item" onclick="showNotification('Extinction', 'Syst√®me en cours d\'arr√™t...')">üîå √âteindre</div>
    </div>

    <!-- Menu contextuel -->
    <div class="context-menu" id="context-menu">
        <div class="context-item" data-app="terminal">Ouvrir Terminal</div>
        <div class="context-item" data-app="files">Ouvrir Fichiers</div>
        <div class="context-item" onclick="showNotification('Rafra√Æchir', 'Bureau rafra√Æchi!')">Rafra√Æchir</div>
        <div class="context-item" onclick="showNotification('Fond d\'√©cran', 'Personnalisation √† venir...')">Changer le fond</div>
    </div>

    <!-- Barre des t√¢ches -->
    <div class="taskbar">
        <div class="app-menu" id="menu-btn">üêâ Applications</div>
        <div class="taskbar-apps" id="taskbar-apps"></div>
        <div class="system-tray">
            <span style="cursor: pointer;" onclick="showNotification('WiFi', 'Connect√©: KaliNet')">üì∂</span>
            <span style="cursor: pointer;" onclick="openWindow('monitor-window')">‚ö°</span>
            <span id="clock">00:00</span>
        </div>
    </div>

    <script>
        // Variables globales
        let calcValue = '0';
        let calcOperation = '';
        let calcPrevious = '';

        // Gestion de l'horloge
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('clock').textContent = `${hours}:${minutes}`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Gestion du menu
        const menuBtn = document.getElementById('menu-btn');
        const appMenu = document.getElementById('app-menu');
        
        menuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            appMenu.classList.toggle('active');
            contextMenu.classList.remove('active');
        });

        document.addEventListener('click', () => {
            appMenu.classList.remove('active');
            contextMenu.classList.remove('active');
        });

        // Menu contextuel
        const contextMenu = document.getElementById('context-menu');
        const desktop = document.getElementById('desktop');

        desktop.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            contextMenu.style.left = e.pageX + 'px';
            contextMenu.style.top = e.pageY + 'px';
            contextMenu.classList.add('active');
            appMenu.classList.remove('active');
        });

        // Notifications
        function showNotification(title, text) {
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.innerHTML = `
                <div class="notif-title">${title}</div>
                <div class="notif-text">${text}</div>
            `;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 3000);
        }

        // Gestion des fen√™tres
        let zIndex = 100;
        const windowStates = {};

        function openWindow(windowId) {
            const win = document.getElementById(windowId);
            if (win) {
                win.classList.add('active');
                win.style.zIndex = ++zIndex;
                updateTaskbar(windowId, true);
            }
        }

        function closeWindow(windowId) {
            const win = document.getElementById(windowId);
            if (win) {
                win.classList.remove('active');
                updateTaskbar(windowId, false);
            }
        }

        function minimizeWindow(windowId) {
            const win = document.getElementById(windowId);
            if (win) {
                win.classList.remove('active');
            }
        }

        function maximizeWindow(windowId) {
            const win = document.getElementById(windowId);
            if (win) {
                if (!windowStates[windowId]) {
                    windowStates[windowId] = {
                        left: win.style.left,
                        top: win.style.top,
                        width: win.style.width,
                        height: win.style.height
                    };
                    win.classList.add('maximized');
                } else {
                    win.style.left = windowStates[windowId].left;
                    win.style.top = windowStates[windowId].top;
                    win.style.width = windowStates[windowId].width;
                    win.style.height = windowStates[windowId].height;
                    win.classList.remove('maximized');
                    windowStates[windowId] = null;
                }
            }
        }

        function updateTaskbar(windowId, isOpen) {
            const taskbarApps = document.getElementById('taskbar-apps');
            let appBtn = document.querySelector(`[data-taskbar="${windowId}"]`);
            
            if (isOpen && !appBtn) {
                appBtn = document.createElement('div');
                appBtn.className = 'taskbar-app active';
                appBtn.dataset.taskbar = windowId;
                appBtn.textContent = document.querySelector(`#${windowId} .window-title`).textContent;
                appBtn.addEventListener('click', () => {
                    const win = document.getElementById(windowId);
                    if (win.classList.contains('active')) {
                        minimizeWindow(windowId);
                        appBtn.classList.remove('active');
                    } else {
                        openWindow(windowId);
                        appBtn.classList.add('active');
                    }
                });
                taskbarApps.appendChild(appBtn);
            } else if (!isOpen && appBtn) {
                appBtn.remove();
            }
        }

        // Ic√¥nes du bureau
        let selectedIcon = null;

        document.querySelectorAll('.desktop-icon').forEach(icon => {
            icon.addEventListener('click', () => {
                if (selectedIcon) selectedIcon.classList.remove('selected');
                icon.classList.add('selected');
                selectedIcon = icon;
            });

            icon.addEventListener('dblclick', () => {
                const app = icon.dataset.app;
                openWindow(`${app}-window`);
            });
        });

        // Menu items et fichiers
        document.querySelectorAll('.menu-item[data-app], .file-item[data-app], .context-item[data-app]').forEach(item => {
            item.addEventListener('click', () => {
                const app = item.dataset.app;
                openWindow(`${app}-window`);
                appMenu.classList.remove('active');
                contextMenu.classList.remove('active');
            });
        });

        // Boutons de contr√¥le des fen√™tres
        document.querySelectorAll('.close').forEach(btn => {
            btn.addEventListener('click', () => {
                closeWindow(btn.dataset.window);
            });
        });

        document.querySelectorAll('.minimize').forEach(btn => {
            btn.addEventListener('click', () => {
                minimizeWindow(btn.dataset.window);
            });
        });

        document.querySelectorAll('.maximize').forEach(btn => {
            btn.addEventListener('click', () => {
                maximizeWindow(btn.dataset.window);
            });
        });

        // Drag windows
        document.querySelectorAll('.window-header').forEach(header => {
            let isDragging = false;
            let currentX, currentY, initialX, initialY;

            header.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('window-control')) return;
                const win = header.closest('.window');
                if (win.classList.contains('maximized')) return;
                
                isDragging = true;
                win.style.zIndex = ++zIndex;
                initialX = e.clientX - win.offsetLeft;
                initialY = e.clientY - win.offsetTop;
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    e.preventDefault();
                    const win = header.closest('.window');
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                    win.style.left = currentX + 'px';
                    win.style.top = currentY + 'px';
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        });

        // Terminal
        const terminalInput = document.getElementById('terminal-input');
        const terminal = document.getElementById('terminal');

        const commands = {
            help: 'Commandes disponibles:\n  help     - Affiche cette aide\n  ls       - Liste les fichiers\n  pwd      - R√©pertoire actuel\n  whoami   - Utilisateur actuel\n  neofetch - Info syst√®me\n  clear    - Efface le terminal\n  nmap     - Scanner r√©seau\n  date     - Date et heure\n  uptime   - Temps de fonctionnement\n  uname    - Info syst√®me\n  ping     - Test de connexion\n  ifconfig - Configuration r√©seau',
            ls: 'Documents  Images  Scripts  T√©l√©chargements  readme.txt  music.mp3  video.mp4  image.png',
            pwd: '/home/kali',
            whoami: 'kali',
            date: new Date().toString(),
            uptime: '12:34:56 up 2 days, 14:22, 1 user, load average: 0.45, 0.38, 0.32',
            uname: 'Linux kali 6.5.0-kali3-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.5.6-1kali1 (2024-10-01) x86_64 GNU/Linux',
            'ping google.com': 'PING google.com (142.250.180.46) 56(84) bytes of data.\n64 bytes from par21s19-in-f14.1e100.net: icmp_seq=1 ttl=117 time=12.3 ms\n64 bytes from par21s19-in-f14.1e100.net: icmp_seq=2 ttl=117 time=11.8 ms',
            ifconfig: 'eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 192.168.1.42  netmask 255.255.255.0  broadcast 192.168.1.255\n        ether 00:0c:29:3f:8a:2b  txqueuelen 1000  (Ethernet)',
            neofetch: `
       ,.....                                       
     .'   ,:;';';:,.                               
   .'   ,'         ':.                             
  /    /               ',                          
  ;    ;.::::.           :                         
  :    ' :':.  :.         :                        
 :      .,:'   . .        :                       
 :     .' . . . . .        :                      
 :    ' . . . . . .         :                     
 ;   '  . . . . .            ;                    
 ;  '                         :                   
;:                             :                  
                                                  
OS: Kali GNU/Linux Rolling x86_64
Host: VirtualBox 1.2
Kernel: 6.5.0-kali3-amd64
Uptime: 2 days, 14 hours, 22 mins
Packages: 2847 (dpkg)
Shell: bash 5.2.15
Resolution: 1920x1080
Terminal: gnome-terminal
CPU: Intel i7-9750H (6) @ 2.600GHz
GPU: VMware SVGA II Adapter
Memory: 3892MiB / 7890MiB`,
            clear: 'CLEAR',
            nmap: 'Starting Nmap 7.94 ( https://nmap.org )\nNmap scan report for 192.168.1.1\nHost is up (0.00050s latency)\nPORT     STATE SERVICE\n22/tcp   open  ssh\n80/tcp   open  http\n443/tcp  open  https\n8080/tcp open  http-proxy\n\nNmap done: 1 IP address (1 host up) scanned in 0.12 seconds'
        };

        terminalInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const cmd = terminalInput.value.trim();
                
                // Afficher la commande
                const cmdLine = document.createElement('div');
                cmdLine.className = 'terminal-line';
                cmdLine.innerHTML = `<span class="terminal-prompt">kali@kali:~$</span> ${cmd}`;
                terminal.insertBefore(cmdLine, terminal.lastElementChild);
                
                // Ex√©cuter la commande
                const output = commands[cmd] || `bash: ${cmd}: commande introuvable`;
                
                if (output === 'CLEAR') {
                    terminal.innerHTML = '';
                    const promptLine = document.createElement('div');
                    promptLine.className = 'terminal-line';
                    promptLine.innerHTML = '<span class="terminal-prompt">kali@kali:~$</span> <input type="text" class="terminal-input" id="terminal-input" autofocus>';
                    terminal.appendChild(promptLine);
                    document.getElementById('terminal-input').focus();
                } else {
                    const lines = output.split('\n');
                    lines.forEach(line => {
                        const div = document.createElement('div');
                        div.className = 'terminal-line';
                        div.textContent = line;
                        terminal.insertBefore(div, terminal.lastElementChild);
                    });
                }
                
                terminalInput.value = '';
                terminal.scrollTop = terminal.scrollHeight;
            }
        });

        // Calculatrice
        function calcInput(val) {
            if (calcValue === '0') {
                calcValue = val;
            } else {
                calcValue += val;
            }
            document.getElementById('calc-display').textContent = calcValue;
        }

        function calcClear() {
            calcValue = '0';
            calcOperation = '';
            calcPrevious = '';
            document.getElementById('calc-display').textContent = calcValue;
        }

        function calcEqual() {
            try {
                const result = eval(calcValue);
                calcValue = result.toString();
                document.getElementById('calc-display').textContent = calcValue;
            } catch (e) {
                document.getElementById('calc-display').textContent = 'Erreur';
                calcValue = '0';
            }
        }

        // Moniteur syst√®me - Animation
        function updateSystemMonitor() {
            const cpu = document.getElementById('cpu-usage');
            const ram = document.getElementById('ram-usage');
            const disk = document.getElementById('disk-usage');
            const network = document.getElementById('network-usage');
            
            const cpuVal = Math.floor(Math.random() * 40) + 30;
            const ramVal = Math.floor(Math.random() * 30) + 50;
            const diskVal = Math.floor(Math.random() * 10) + 35;
            const netVal = Math.floor(Math.random() * 50) + 10;
            
            cpu.style.width = cpuVal + '%';
            cpu.textContent = cpuVal + '%';
            ram.style.width = ramVal + '%';
            ram.textContent = ramVal + '%';
            disk.style.width = diskVal + '%';
            disk.textContent = diskVal + '%';
            network.style.width = netVal + '%';
            network.textContent = netVal + '%';
        }

        setInterval(updateSystemMonitor, 2000);

        // Ex√©cution d'outils
        function runTool(tool) {
            showNotification('Outil Kali', `Lancement de ${tool}...`);
            openWindow('terminal-window');
            
            const terminal = document.getElementById('terminal');
            const toolMsg = document.createElement('div');
            toolMsg.className = 'terminal-line';
            toolMsg.innerHTML = `<span class="terminal-prompt">kali@kali:~$</span> ${tool}`;
            terminal.insertBefore(toolMsg, terminal.lastElementChild);
            
            setTimeout(() => {
                const output = document.createElement('div');
                output.className = 'terminal-line';
                output.textContent = `${tool} lanc√© avec succ√®s!`;
                terminal.insertBefore(output, terminal.lastElementChild);
                terminal.scrollTop = terminal.scrollHeight;
            }, 500);
        }

        // Message de bienvenue
        setTimeout(() => {
            showNotification('Bienvenue', 'Kali Linux est pr√™t!');
        }, 1000);
    </script>
</body>
</html>cursor: pointer;" onclick="showNotification('Volume', 'Volume: 75%')">üîä</span>
            <span style="
